{% extends 'layout.html' %}

{% block body %}

	<div class="grid-container">

		<h1> Dashboard </h1>
		<h1> <small> Welcome {{ session.username }} </small> </h1>

		<a class="create-post-link" href="/create_listing">
			<button type="button" class="create-post-button button success">
				Create Listing
			</button>
		</a>

		<hr/>

		<table class="hover">
			<thead>
				<tr>
					<th width="100"> Article ID </th>
					<th width="150"> Title </th>
					<th> Description </th>
					<th width="70"> Price($) </th>
					<th width="150"> Last Updated </th>
					<th> </th>
					<th> </th>
					<th> </th>
				</tr>
			</thead>
			<tbody>
				{% for listing in listings %}
					<tr>
						<td> {{ listing[0] }} </td>
						<td> {{ listing[1] }} </td>
						<td class="listing-body"> {{ listing[3]|safe }} </td>
						<td> {{ listing[4] }} </td>
						<td> {{ listing[5] }} </td>
						<td>
							<a href="/listings/{{listing[0]}}" class="button primary">
								View
							</a>
						</td>
						<td>
							<a href="edit_listing/{{listing[0]}}" class="button secondary">
								Edit
							</a>
						</td>
						<td>
							<a href="#" class="button alert">
								Delete
							</a>
						</td>
						
					</tr>
				{% endfor %}
			</tbody>
		</table>

	</div>

{% endblock %}